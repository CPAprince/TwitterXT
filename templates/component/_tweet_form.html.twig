{# templates/component/_tweet_form.html.twig #}
{#
  Parameters:
  - tweetId (optional): ID of tweet being edited, null/undefined for new tweets
  - initialContent (optional): Initial content for editing, empty for new tweets
  - formId (optional): Unique ID for the form container
  - alertsContainerId (optional): Unique ID for alerts container
#}
<div class="tweet-form-container"
     {% if formId is defined and formId %}id="{{ formId }}"{% endif %}
     {% if tweetId is defined and tweetId %}data-tweet-id="{{ tweetId }}"{% endif %}
     data-form-mode="{{ (tweetId is defined and tweetId) ? 'edit' : 'create' }}">
    <form class="tweet-form">
        <textarea
            class="form-control mb-2"
            name="content"
            rows="1"
            maxlength="280"
            data-char-counter
            placeholder="What's new?"
            required
        >{{ initialContent|default('') }}</textarea>
        <div class="d-flex justify-content-end mb-2">
            {% include 'component/_char_counter.html.twig' with { maxlength: 280 } only %}
        </div>
        <div class="d-flex justify-content-end gap-2">
            <button type="submit" class="btn btn-primary btn-sm">
                {{ (tweetId is defined and tweetId) ? 'Save' : 'Tweet' }}
            </button>
            {% if tweetId is defined and tweetId %}
                <button type="button" class="btn btn-secondary btn-sm tweet-form-cancel">Cancel</button>
            {% endif %}
        </div>
        <div class="tweet-form-alerts mt-2"
             {% if alertsContainerId is defined and alertsContainerId %}id="{{ alertsContainerId }}"{% endif %}></div>
    </form>
</div>
